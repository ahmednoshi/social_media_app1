"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const authentication_middleware_1 = require("../../middleware/authentication.middleware");
const chat_service_1 = require("./chat.service");
const cloud_multer_1 = require("../../utils/multer/cloud.multer");
const chatRouter = (0, express_1.Router)({ mergeParams: true });
const chatService = new chat_service_1.CahtService();
chatRouter.get("/", (0, authentication_middleware_1.authentication)(), chatService.getChat);
chatRouter.post("/group", (0, authentication_middleware_1.authentication)(), (0, cloud_multer_1.cloudFileUpload)({ Validation: cloud_multer_1.fileValidation.image }).single("attachment"), chatService.createGroup);
chatRouter.get("/group/:groupId", (0, authentication_middleware_1.authentication)(), chatService.getGroupChat);
exports.default = chatRouter;
